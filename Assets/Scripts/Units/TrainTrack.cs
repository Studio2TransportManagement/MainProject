using UnityEngine;
using System.Collections;
using System.Collections.Generic;

public class TrainTrack : MonoBehaviour {

	private List<TrainStation> l_tsNodes;
	private Train guTrain;
	public GameUnit guProtoTrain;
	public GameObject goSpawnpoint1;

	// Use this for initialization
	void Start() {
		l_tsNodes = new List<TrainStation>();
		TrainStation[] nodes = this.GetComponentsInChildren<TrainStation>();
		l_tsNodes.AddRange(nodes);

		guTrain = (Train)Instantiate(guProtoTrain, goSpawnpoint1.transform.position, goSpawnpoint1.transform.rotation);
		guTrain.transform.localScale = goSpawnpoint1.transform.localScale;

	}
	
	// Update is called once per frame
	void Update() {
		guTrain.GetComponent<SlideToLocation>().vTarget = goSpawnpoint1.transform.position;
	}

	public void FlipDestination() {
		l_tsNodes.Reverse();
	}
}
